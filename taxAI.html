<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงููุณุงุนุฏ ุงูุฐูู ููุถุฑุงุฆุจ ุงููุตุฑูุฉ</title>
    <!-- ูู ุงูุฃููููุฉ ุจุตูุบุฉ PNG -->
    <link rel="icon" type="image/png" href="https://www3.0zz0.com/2024/05/30/07/482205963.png">    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#C8102E', // ุฃุญูุฑ ูุตุฑู
                        'secondary': '#D4AF37', // ุฐูุจู
                        'accent': '#00205B', // ุฃุฒุฑู ุฏุงูู
                        'light': '#F8FAFC',
                        'dark': '#1E293B',
                    },
                    fontFamily: {
                        'Beiruti': ['Beiruti', 'sans-serif'],
                    },
                    boxShadow: {
                        'card': '0 4px 20px rgba(0, 0, 0, 0.08)',
                        'btn': '0 4px 15px rgba(200, 16, 46, 0.3)',
                    }
                }
            }
        }
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Google Fonts - Tajawal -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Beiruti:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Beiruti', sans-serif;
            background-color: #F8FAFC;
            color: #333;
            line-height: 1.6;
            background-color: #e1f5fe; 
            font-size: 18px;
            font-weight: bold;
        }
      
      
           #blog-pager {
    margin: 1em 0;
    text-align: center;
    overflow: hidden;
    display: none;
}
      
      
      
      html .post-footer-line {
    margin: 10px 0;
    display: none;
}
      
      html #blog-pager-home-link {
    width: 140px;
    margin: 0 auto;
    display: none;
}
      
      .mobile .date-header span {
    padding: 0.1em 10px;
    margin: 0 -10px;
    font-size: 30px;
}
      .header-inner .Header #header-inner {
    overflow: hidden;
    display: none;
}
      
      .mobile .footer-outer {
    border-top: none;
    display: none;
}
      
      #footer-blanter {
    position: relative;
    padding: 50px 0 20px;
    margin: 0;
    background: linear-gradient(to right, #3ec2f2,#0067b0);
    color: #fff;
    text-align: center;
    overflow: hidden;
    display: none;
}

      
      #header-blanter {
    background: linear-gradient(to right, #3ec2f2,#0067b0);
    color: #fff;
    position: relative;
    overflow: hidden;
    box-sizing: border-box;
    padding: 20px 0 80px;
    text-align: center;
    line-height: 1.8;
    display: none;
}

        /* ุชุญุณููุงุช ุนุงูุฉ */
        .section-title {
            position: relative;
            display: inline-block;
            margin-bottom: 1.5rem;
        }
        
        .section-title:after {
            content: '';
            position: absolute;
            bottom: -8px;
            right: 0;
            width: 60%;
            height: 4px;
            background: linear-gradient(90deg, #C8102E 0%, #D4AF37 100%);
            border-radius: 2px;
        }

        /* ุจุทุงูุงุช ุงูููุฒุงุช */
        .feature-card {
            transition: all 0.3s ease;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            z-index: 1;
            margin-bottom: 0px;
        }
        
        .feature-card:before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(200,16,46,0.1) 0%, rgba(212,175,55,0.1) 100%);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .feature-card:hover:before {
            opacity: 1;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }


        /* ุนูุงุตุฑ ุงูููุงุฆู */
        .benefit-item {
            position: relative;
            padding-right: 1.5rem;
            margin-bottom: 0.75rem;
        }
        
        .benefit-item:before {
            content: "";
            position: absolute;
            right: 0;
            top: 0.6rem;
            width: 0.5rem;
            height: 0.5rem;
            background-color: #C8102E;
            border-radius: 50%;
        }

        /* ุฃุฒุฑุงุฑ */
        .btn-primary {
            background: linear-gradient(135deg, #C8102E 0%, #00205B 100%);
            color: white;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(200, 16, 46, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(200, 16, 46, 0.35);
        }

        /* ูุงูุฐุฉ ุงููุณุงุนุฏ */
        .assistant-modal {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .chat-bubble-user {
            background: linear-gradient(135deg, #C8102E 0%, #00205B 100%);
            color: white;
            border-radius: 18px 18px 0 18px;
            max-width: 85%;
        }
        
        .chat-bubble-ai {
            background-color: #FFFFFF;
            color: #333;
            border-radius: 18px 18px 18px 0;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
            max-width: 85%;
        }
        
        /* ูุคุดุฑ ุงููุชุงุจุฉ */
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #9CA3AF;
            animation: typing 1.4s infinite;
        }
        
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-4px); }
        }

        /* ุฃูุซูุฉ ุงูุฃุณุฆูุฉ */
        .example-prompt {
            transition: all 0.25s ease;
            border: 1px solid #E2E8F0;
            cursor: pointer;
        }
        
        .example-prompt:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
            border-color: #C8102E;
        }

        /* ููุญุฉ ุงูุฅุนุฏุงุฏุงุช */
        .settings-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px;
            max-height: 80vh;
            background-color: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border-radius: 16px;
            z-index: 60;
            padding: 20px;
            overflow-y: auto;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .settings-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .settings-overlay.open {
            opacity: 1;
            visibility: visible;
        }
        
        .settings-panel.open {
            opacity: 1;
            visibility: visible;
        }
        
        .settings-item {
            transition: all 0.2s ease;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .settings-item:hover {
            background-color: rgba(200, 16, 46, 0.05);
        }

        /* ุงูุชูุจููุงุช */
        .alert-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .alert-modal.show {
            opacity: 1;
            visibility: visible;
        }
        
        .alert-content {
            background-color: white;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            overflow: hidden;
            transform: translateY(20px);
            transition: transform 0.3s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .alert-modal.show .alert-content {
            transform: translateY(0);
        }
        
        .alert-header {
            background-color: #C8102E;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .alert-body {
            padding: 20px;
            color: #333;
        }
        
        .alert-footer {
            padding: 15px;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .alert-btn {
            padding: 8px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s ease;
        }
        
        .alert-btn-primary {
            background-color: #C8102E;
            color: white;
            border: none;
        }
        
        .alert-btn-primary:hover {
            background-color: #A00D26;
        }
        
        .alert-btn-secondary {
            background-color: #f0f0f0;
            color: #333;
            border: none;
        }
        
        .alert-btn-secondary:hover {
            background-color: #e0e0e0;
        }

        /* ุดุฑูุท ุงูุชูุฑูุฑ */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #CBD5E1;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #A0AEC0;
        }

        /* ุชุฃุซูุฑุงุช ุงููุต */
        .text-gradient {
            background: linear-gradient(135deg, #C8102E 0%, #D4AF37 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
        }

        /* ุงูููุฏุฑ */
        .hero-section {
            background: linear-gradient(135deg, rgba(200,16,46,0.05) 0%, rgba(212,175,55,0.05) 100%);
            border-radius: 24px;
        }

        /* ุงูุชููู ูุน ุงูุฃุฌูุฒุฉ ุงูุตุบูุฑุฉ */
        @media (max-width: 640px) {
            .section-title:after {
                width: 40%;
            }
            
            .feature-card {
                padding: 1rem;
            }
        }

        /* ุงูุฎุทูุท */
        body, p, div, span, a, button, input, textarea {
            font-size: 18px;
            font-weight: bold;
        }
        
        .sub-content {
            font-size: 16px;
            font-weight: bold;
        }
        
        .main-heading {
            font-size: 22px;
        }
        
        .sub-heading {
            font-size: 20px;
        }
        
        .modal-heading {
            font-size: 22px;
        }
        
        .modal-subheading {
            font-size: 20px;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #C8102E 0%, #00205B 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            margin-left: 10px;
        }
        
        /* ูุญุชูู ูุงูุฐุฉ ุงููุณุงุนุฏ */
        .assistant-content {
            font-size: 20px;
        }
        
        .assistant-subcontent {
            font-size: 18px;
        }
        

        :root {
            --primary-color: #1a237e;
            --secondary-color: #0277bd;
            --accent-color: #E63946;
            --text-color: #1a237e;
            --light-bg: #f5f7fa;
            --card-bg: #ffffff;
            --border-radius: 12px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }         
        

        /* ุฃููุงุท ุงูุดุฑูุท ุงูุนููู */
        .top-bar {
            position: fixed;
            top: 0px; /* ุงููุณุงูุฉ ูู ุงูุฃุนูู */
            left: 50%; /* ุชูุณูุท ุงูุนูุตุฑ ุฃููููุง */
            transform: translateX(-50%); /* ุชูุณูุท ุงูุนูุตุฑ ุจุฏูุฉ */
            width: 100%; /* ุนุฑุถ ุงูุนูุตุฑ */
            height: 57.5px; /* ุงุฑุชูุงุน ุงูุนูุตุฑ */
            background: linear-gradient(135deg, #0277bd, #1a237e); /* ุฎูููุฉ ูุชุฏุฑุฌุฉ */
            display: flex;
            justify-content: space-between; /* ุชูุฒูุน ุงูุนูุงุตุฑ */
            padding: 10px 15px; /* ุญุดู ุฏุงุฎูู */
            box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1); /* ุธู ุฎููู */
            border-radius: 0px 0px 22.5px 22.5px; /* ุฒูุงูุง ูุณุชุฏูุฑุฉ */
            border-bottom: 3px solid white; /* ุญุฏูุฏ */
            align-items: center; /* ุชูุณูุท ุงูุนูุงุตุฑ ุนููุฏููุง */
            z-index: 1001; /* ุชุฑุชูุจ ุงูุนูุตุฑ */
            color: white; /* ููู ุงููุต */
        }


        .top-bar .menu-icon {
            font-size: 27.5px; /* ุญุฌู ุงูุฃููููุฉ */
            cursor: pointer; /* ุชุบููุฑ ุดูู ุงููุคุดุฑ */
        }

        .top-bar .title {
            font-size: 18px; /* ุญุฌู ุงููุต */
            margin-left: 20px; /* ูุณุงูุฉ ุจูู ุงูุณูู ูุงูุนููุงู */
            flex-grow: 1; /* ุชูุณูุท ุงูุนููุงู */
            text-align: center; /* ุชูุณูุท ุงููุต */
            font-weight: bold;  
        }
.top-bar .icon {
    display: none; /* ุฅุฎูุงุก ุงูุฃููููุงุช ุจุนุฏ ุงูุชุนุฏูู */
}
        
/* ุฃููุงุท ุงููุงุฆูุฉ ุงูุณูููุฉ */
        .navbar {
            position: fixed;
            bottom: 3px;
            left: 50%;
            transform: translateX(-50%);
            width: 92.5%;
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            display: flex;
            justify-content: space-around;
            padding: 5px 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 22.5px;
            border-bottom: 3px solid white;
            z-index: 1000;
        }

        .navbar .nav-item {
            flex: 1;
            text-align: center;
            color: white;
            font-size: 14px;
            cursor: pointer;
            padding: 5px 0;
            transition: var(--transition);
            border-width: 1px;
            border-style: solid;
            border-color: transparent;
        }

        .icon {
            margin-bottom: 2px;
            font-size: 18px;
        }

        .nav-item span {
            display: block;
            font-size: 15px;
            font-weight: bold;
            text-decoration: none;
        }

        .nav-item:active .icon {
            font-size: 20px;
        }

       /* ุฅุฒุงูุฉ ุงูุฎุท ุชุญุช ุฃุณูุงุก ุงูููุงุฆู */
        .navbar-nav .nav-link {
            text-decoration: none;
        }
        .navbar a {
            text-decoration: none;
        }     

        /* ุดุนุงุฑ ุงูุฅุดุนุงุฑุงุช */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: 87.5px;
            background-color: red;
            color: white;
            font-size: 15px;
            padding: 2.5px 5px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* ูุงูุฐุฉ ูุตุบุฑุฉ ูุนุฏูุฉ */
        #miniTaxWindow {
            position: fixed;
            bottom: 82.5px;
            right: 10px;
            width: 50px;
            height: 50px;
            z-index: 50;
        }
    
</style>
</head>
<body class="bg-light">
    
<div class="top-bar">
    <div class="menu-icon" id="menuIcon" onclick="toggleSidebar()">
        <i class="fas fa-arrow-right" onclick="window.location.href='https://taxlawapp.github.io/home/home.html'"></i>
    </div>
    <div class="title">
         ุงููุณุงุนุฏ ุงูุฐูู | ๐ช๐ฌ ๐ต๐ธ Tax Law App
    </div>
</div>

<!-- ุงูุตูุญุฉ ุงูุชุนุฑูููุฉ -->
<div class="container mx-auto px-4 py-4" style="margin-top: 52.5px; margin-bottom: 2.5px">

    <!-- ุงููุณู ุงูุฃูู: ูุจุฐุฉ ุชุนุฑูููุฉ -->
    <section class="mb-6">
        <div class="hero-section text-center mb-6 p-4 md:p-6">
            <h1 class="text-[26px] font-bold mb-3 text-primary">
                <span class="text-gradient">ุงููุณุงุนุฏ ุงูุฐูู ุงูุถุฑูุจู</span>
            </h1>
            <p class="text-gray-600 max-w-3xl mx-auto leading-relaxed text-center">
                ุฃุฏุงุฉ ุฐููุฉ ููุฏูุฉ ูู Tax Law App ูุชุฎุตุตุฉ ูู ุงููุธุงู ุงูุถุฑูุจู ุงููุตุฑู ุชูุฏู ุฅุฌุงุจุงุช ุฏูููุฉ ููู ุฃุญุฏุซ ุงูููุงููู ูุงูุชุนุฏููุงุช
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-primary/10 p-2 rounded-full">
                        <i class="fas fa-info-circle text-primary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ูุง ูู ุงููุณุงุนุฏ ุงูุฐูู ุงูุถุฑูุจู ุ</h3>
                </div>
                <p class="text-gray-600 leading-relaxed text-center">
                    ุงููุณุงุนุฏ ุงูุฐูู ุงูุถุฑูุจู ูู ุฃุฏุงุฉ ุฐููุฉ ููุฏูุฉ ูู Tax Law Appุ ูุตููุฉ ุฎุตูุตุงู ููุณุงุนุฏุฉ ุงูุฃูุฑุงุฏ ูุงูุดุฑูุงุช ูู ููู ูุชุทุจูู ุงููุธุงู ุงูุถุฑูุจู ุงููุตุฑู. ูุนุชูุฏ ุงููุณุงุนุฏ ุนูู ุฃุญุฏุซ ุงูููุงููู ูุงูููุงุฆุญ ุงูุถุฑูุจูุฉ ุงูุตุงุฏุฑุฉ ุนู ูุฒุงุฑุฉ ุงููุงููุฉ ููุตูุญุฉ ุงูุถุฑุงุฆุจ ุงููุตุฑูุฉุ ูููุฏู ุฅุฌุงุจุงุช ุฏูููุฉ ูููุซููุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ.
                </p>
            </div>

            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-primary/10 p-2 rounded-full">
                        <i class="fas fa-cogs text-primary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ููู ูุนูู ุงููุณุงุนุฏ ุงูุถุฑูุจู ุ</h3>
                </div>
                <p class="text-gray-600 leading-relaxed text-center">
                    ูุนูู ุงููุณุงุนุฏ ูู ุฎูุงู ุชุญููู ุงูุฃุณุฆูุฉ ูุงูุงุณุชูุณุงุฑุงุช ุงูุถุฑูุจูุฉุ ุซู ูููู ุจุชูุฏูู ุฅุฌุงุจุงุช ุดุงููุฉ ุชุณุชูุฏ ุฅูู ุงูุชุดุฑูุนุงุช ุงูุถุฑูุจูุฉ ุงููุตุฑูุฉ. ููููู ุชูุณูุฑ ุงูููุงูููุ ุดุฑุญ ุงูุฅุฌุฑุงุกุงุชุ ูุชูุฏูู ุฅุฑุดุงุฏุงุช ุญูู ููููุฉ ุงูุงูุชุซุงู ููุงูุชุฒุงูุงุช ุงูุถุฑูุจูุฉ.
                </p>
            </div>
        </div>
    </section>

    <!-- ูุณู ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู -->
    <section class="mb-6">
        <div class="section-divider"></div>

        <div class="text-center mb-4">
            <h2 class="text-[19px] font-bold mb-2 text-gray-800">ุฎุทูุงุช ุงุณุชุฎุฏุงู ุงููุณุงุนุฏ</h2>
            <p class="text-gray-600 max-w-3xl mx-auto text-center font-bold text-[17px]">
                ููู ุชุณุชุฎุฏู ุงููุณุงุนุฏ ุงูุฐูู ุงูุถุฑูุจู ุจุฎุทูุงุช ุจุณูุทุฉ ุฌุฏุงู
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center mb-2">
                    <div class="step-number">1</div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุงูุชุจ ุณุคุงูู</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ุงูุชุจ ุณุคุงูู ุงูุถุฑูุจู ุจูุถูุญ ูู ูุฑุจุน ุงููุญุงุฏุซุฉุ ููููู ุทุฑุญ ุฃู ุงุณุชูุณุงุฑ ูุชุนูู ุจุงููุธุงู ุงูุถุฑูุจู ุงููุตุฑู.
                </p>
            </div>

            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center mb-2">
                    <div class="step-number">2</div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุงูุชุธุฑ ุงูุฅุฌุงุจุฉ</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ุณูููู ุงููุณุงุนุฏ ุจุชุญููู ุณุคุงูู ูุชูุฏูู ุฅุฌุงุจุฉ ุฏูููุฉ ุชุณุชูุฏ ุฅูู ุงูููุงููู ูุงูููุงุฆุญ ุงูุถุฑูุจูุฉ ุงููุตุฑูุฉ.
                </p>
            </div>

            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center mb-2">
                    <div class="step-number">3</div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุงุญุตู ุนูู ุงููุนูููุงุช</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ุณุชุชููู ุฅุฌุงุจุฉ ุดุงููุฉ ุชุญุชูู ุนูู ุงูููุงุฏ ุงููุงููููุฉ ุฐุงุช ุงูุตูุฉุ ุงูุชูุณูุฑุงุชุ ูุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ.
                </p>
            </div>
        </div>
    </section>

    <!-- ูุณู ุฃูููุฉ ุงูุงุณุชุฎุฏุงู -->
    <section class="mb-6">
        <div class="section-divider"></div>

        <div class="text-center mb-4">
            <h2 class="text-[19px] font-bold mb-2 text-gray-800">ุฃูููุฉ ุงุณุชุฎุฏุงู ุงููุณุงุนุฏ ุงูุฐูู</h2>
            <p class="text-gray-600 max-w-3xl mx-auto text-center font-bold text-[17px]">
                ููุงุฐุง ูุฌุจ ุนููู ุฃู ุชุณุชุฎุฏู ุงููุณุงุนุฏ ุงูุฐูู ุงูุถุฑูุจู ุจุชูููุฉ ุงูู AI
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-primary/10 p-2 rounded-full">
                        <i class="fas fa-clock text-primary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุชูููุฑ ุงูููุช ูุงูุฌูุฏ</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ุจุฏูุงู ูู ุงูุจุญุซ ูู ุงูููุงูุน ุงูุฑุณููุฉุ ููููู ุงูุญุตูู ุนูู ุฅุฌุงุจุงุช ููุฑูุฉ ูุฏูููุฉ ูู ุงููุณุงุนุฏ ุงูุฐูู ูู ุซูุงูู ูุนุฏูุฏุฉ.
                </p>
            </div>

            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-primary/10 p-2 rounded-full">
                        <i class="fas fa-money-bill-wave text-primary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุชุฌูุจ ุงูุฃุฎุทุงุก ุงูููููุฉ</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ุงูุฃุฎุทุงุก ุงูุถุฑูุจูุฉ ูุฏ ุชูููู ุบุฑุงูุงุช ูุจูุฑุฉ. ุงููุณุงุนุฏ ููุฏู ูุนูููุงุช ุฏูููุฉ ูุญุฏุซุฉ ููู ุฃุญุฏุซ ุงูุชุนุฏููุงุช ุงููุงููููุฉ ูุถูุงู ุงูุงูุชุซุงู ุงูุตุญูุญ.
                </p>
            </div>

            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-primary/10 p-2 rounded-full">
                        <i class="fas fa-user-shield text-primary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุญูุงูุฉ ูู ุงููุดููุงุช ุงููุงููููุฉ</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ููู ุงููุธุงู ุงูุถุฑูุจู ูุญููู ูู ุงููููุน ูู ูุดููุงุช ูุงููููุฉ. ุงููุณุงุนุฏ ูุดุฑุญ ูู ุงูุงูุชุฒุงูุงุช ูุงูุญููู ุงูุถุฑูุจูุฉ ุจูุถูุญ.
                </p>
            </div>
        </div>
    </section>

    <!-- ูุณู ุงููุฒุงูุง -->
    <section class="mb-6">
        <div class="section-divider"></div>

        <div class="text-center mb-4">
            <h2 class="text-[19px] font-bold mb-2 text-gray-800">ูุฒุงูุง ุงููุณุงุนุฏ ุงูุฐูู</h2>
            <p class="text-gray-600 max-w-3xl mx-auto text-center font-bold text-[17px]">
                ูุฒุงูุง ุชุฌุนู ุงููุณุงุนุฏ ุงูุฐูู ุฎูุงุฑู ุงูุฃูุซู ููุงุณุชุดุงุฑุงุช ุงูุถุฑูุจูุฉ
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">
            <!-- ุงูููุฒุฉ 1 -->
            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-secondary/10 p-2 rounded-full">
                        <i class="fas fa-bolt text-secondary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ุฅุฌุงุจุงุช ููุฑูุฉ ุนูู ุงุณุชูุณุงุฑุงุชู ุงูุถุฑูุจูุฉ ุฏูู ุงูุชุธุงุฑุ ูุชุงุญ 24/7 ูุฃู ุณุคุงู ุฃู ุงุณุชูุณุงุฑ.
                </p>
            </div>

            <!-- ุงูููุฒุฉ 2 -->
            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-secondary/10 p-2 rounded-full">
                        <i class="fas fa-gem text-secondary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุฏูุฉ ุงููุนูููุงุช</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ูุนูููุงุช ูุญุฏุซุฉ ููู ุฃุญุฏุซ ุงูููุงููู ูุงูููุงุฆุญ ุงูุถุฑูุจูุฉ ุงููุตุฑูุฉุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู ุงูููุงุฏ ุงููุงููููุฉ ุฐุงุช ุงูุตูุฉ.
                </p>
            </div>

            <!-- ุงูููุฒุฉ 3 -->
            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-secondary/10 p-2 rounded-full">
                        <i class="fas fa-lock text-secondary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุฎุตูุตูุฉ ูุฃูุงู</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ูุง ูุชู ุชุฎุฒูู ุจูุงูุงุชู ุงูุดุฎุตูุฉ ุฃู ูุดุงุฑูุชูุง ูุน ุฃู ุฌูุงุช ุฎุงุฑุฌูุฉ. ุงุณุชูุณุฑ ุจูู ุฎุตูุตูุฉ ูุฃูุงู.
                </p>
            </div>

            <!-- ุงูููุฒุฉ 4 -->
            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-secondary/10 p-2 rounded-full">
                        <i class="fas fa-language text-secondary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ูุบุฉ ุนุฑุจูุฉ ูุงุถุญุฉ</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ุฅุฌุงุจุงุช ุจูุบุฉ ุนุฑุจูุฉ ูุงุถุญุฉ ุฎุงููุฉ ูู ุงููุตุทูุญุงุช ุงููุนูุฏุฉุ ูุน ุดุฑุญ ููููุงููู ุงููุงููููุฉ ุจุทุฑููุฉ ูุจุณุทุฉ.
                </p>
            </div>

            <!-- ุงูููุฒุฉ 5 -->
            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-secondary/10 p-2 rounded-full">
                        <i class="fas fa-link text-secondary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ุฑูุงุจุท ุฑุณููุฉ</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ูููุฑ ุฑูุงุจุท ูุจุงุดุฑุฉ ููููุงูุน ุงูุฑุณููุฉ ูุงูุฎุฏูุงุช ุงูุฅููุชุฑูููุฉ ุงูุชุงุจุนุฉ ููุตูุญุฉ ุงูุถุฑุงุฆุจ ุงููุตุฑูุฉ.
                </p>
            </div>

            <!-- ุงูููุฒุฉ 6 -->
            <div class="feature-card bg-white p-4 rounded-xl shadow-md">
                <div class="flex items-center gap-3 mb-3">
                    <div class="bg-secondary/10 p-2 rounded-full">
                        <i class="fas fa-hand-holding-usd text-secondary text-xl"></i>
                    </div>
                    <h3 class="text-gray-800 font-bold text-[17px]">ูุฌุงูู ุจุงููุงูู</h3>
                </div>
                <p class="text-gray-600 text-right">
                    ุฎุฏูุฉ ูุฌุงููุฉ ุจุงููุงูู ุจุฏูู ุฃู ุฑุณูู ุฃู ุงุดุชุฑุงูุงุชุ ูุชุงุญุฉ ููุฌููุน ุฏูู ูููุฏ.
                </p>
            </div>
        </div>
    </section>


<!-- ูุณู ุจุฏุก ุงูุงุณุชุฎุฏุงู -->
<section class="text-center py-4 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-2xl" style="margin-bottom: 62.5px; margin-top: 2.5px">
    <h2 class="text-[21px] font-bold mb-4 text-gray-800">
        ุฌุฑุจ ุงููุณุงุนุฏ ุงูุฐูู ุงูุถุฑูุจู ุงูุขู
    </h2>

    <!-- ุฅุฎูุงุก ุงููุณุคูููุฉ ูุจู ุงูุฒุฑ -->
    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-3 rounded-lg max-w-3xl mx-auto mb-4 text-[16px] font-bold leading-relaxed text-right" style="width: 95%;">
        โ๏ธ <strong>ุชูููู ูุงู ุฌุฏูุง :</strong><strong class="text-gray-900">ุงููุณุงุนุฏ ุงูุฐูู ุงูุถุฑูุจู</strong> ุฎุฏูุฉ ุฐููุฉ ููุฏูุฉ ูู <strong>Tax Law App</strong> ูุชุฎุตุตุฉ ูู ุงูุฑุฏ ุนูู ุงูุชุณุงุคูุงุช ุงูุถุฑูุจูุฉ ููู ุงููุธุงู ุงูุถุฑูุจู ุงููุตุฑู.
            ูุนุชูุฏ ุนูู ุฃุญุฏุซ ุชูููุงุช <strong>AI</strong> ูุบูุฑ ุชุงุจุนุฉ ูุฃู ุฌูุฉ ุญููููุฉ ุฃู ุฑุณููุฉ.  
      
        <!-- ุงูููุงููุฉ ุนูู ุงูุดุฑูุท -->
        <div class="bg-red-100 border-l-4 border-red-500 text-red-800 p-3 rounded-lg max-w-2xl mx-auto mb-2 text-right text-[17px] font-bold leading-relaxed" style="width: 95%;">
            โ๏ธ ุจุงุณุชุฎุฏุงูู ูููุณุงุนุฏ ุงูุฐูู ุงูุถุฑูุจู ูุฅูู ุชูุงูู ุนูู ุฃู ูุทูุฑ ุงูุชุทุจูู ุบูุฑ ูุณุคูู ุนู ุฃู ูุฑุงุฑุงุช ุชุชุฎุฐ ุจูุงุกู ุนูู ุงููุนูููุงุช ุงูููุฏูุฉ. โ๏ธ
        </div>

        <!-- ุงูุฎุตูุตูุฉ -->
        <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-800 p-3 rounded-lg max-w-2xl mx-auto mb-2 text-right text-[17px] font-bold leading-relaxed" style="width: 95%;">
            โ๏ธ ุงููุณุงุนุฏ ูููู ุจุฌูุน ููุดุงุฑูุฉ ุจูุงูุงุชู ููุท ูุน ุฃุญุฏ ุชูููุงุช AI ููุฑุฏ ุนูู ุงุณุชูุณุงุฑุงุชูุ ููุง ูุชู ุงูุงุญุชูุงุธ ุจูุง ุฃู ูุดุงุฑูุชูุง ูุน ุฃุทุฑุงู ุฎุงุฑุฌูุฉ ุฃุฎุฑู. โ๏ธ
        </div>      

        <div class="bg-green-100 border-l-4 border-green-500 text-green-800 p-3 rounded-lg max-w-2xl mx-auto mb-3 text-right text-[17px] font-bold leading-relaxed" style="width: 95%;">
            ๐ ุชูุจูู ูุงู : ุจุงูุถุบุท ุนูู ุงูุฒุฑ ุฃุฏูุงูุ ูุฃูุช ุชูุฑ ุจุฃูู ูุฑุฃุช ููููุช ุฅุฎูุงุก ุงููุณุคูููุฉ ูุชูุงูู ุนูู ุงูุดุฑูุท.โ๏ธ
        </div>  

    <button id="openAssistantBtn2" class="btn-primary text-white text-sm md:text-base py-2 px-4 md:py-3 md:px-6 rounded-lg flex items-center gap-2 mx-auto hover:bg-red-800 transition-colors">
        <i class="fas fa-robot text-base md:text-lg"></i>
        <span>ุฃูุงูู ูุฃูุชุญ ุงููุณุงุนุฏ ุงูุถุฑูุจู</span>
    </button>
    </div>  
</section>

<!-- ูุงูุฐุฉ ููุจุซูุฉ (Modal) ููุฅุฎูุงุก ุนูุฏ ูุชุญ ุงููุณุงุนุฏ ูุฃูู ูุฑุฉ -->
<div id="disclaimerModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white p-6 rounded-xl max-w-md w-full shadow-lg text-right mx-4">
        <h3 class="text-lg font-bold mb-3 text-red-600">โ๏ธ ุชูููู ูุงู ุฌุฏุงู :</h3>
<strong class="text-gray-900">ุงููุณุงุนุฏ ุงูุฐูู ุงูุถุฑูุจู</strong> ุฎุฏูุฉ ุฐููุฉ ููุฏูุฉ ูู <strong>Tax Law App</strong> ูุชุฎุตุตุฉ ูู ุงูุฑุฏ ุนูู ุงูุชุณุงุคูุงุช ุงูุถุฑูุจูุฉ ููู ุงููุธุงู ุงูุถุฑูุจู ุงููุตุฑู.
            ูุนุชูุฏ ุนูู ุฃุญุฏุซ ุชูููุงุช <strong>AI</strong> ูุบูุฑ ุชุงุจุนุฉ ูุฃู ุฌูุฉ ุญููููุฉ ุฃู ุฑุณููุฉ.  
        ูุนุชูุฏ ูุฐุง ุงููุณุงุนุฏ ุงูุฐูู ุนูู ูุนูููุงุช ูู ุงููุตุงุฏุฑ ุงูุฑุณููุฉ ูุซู :- 
        <a href="https://mof.gov.eg/" target="_blank" class="underline"><i class="fas fa-up-right-from-square text-xs"></i> ูุฒุงุฑุฉ ุงููุงููุฉ ุงููุตุฑูุฉ</a>       
        <a href="https://eta.gov.eg/ar/home" target="_blank" class="underline"><i class="fas fa-up-right-from-square text-xs"></i> ูุตูุญุฉ ุงูุถุฑุงุฆุจ ุงููุตุฑูุฉ</a>
        <a href="https://customs.gov.eg" target="_blank" class="underline"><i class="fas fa-up-right-from-square text-xs"></i> ูุตูุญุฉ ุงูุฌูุงุฑู ุงููุตุฑูุฉ</a> 
        <a href="https://www.rta.gov.eg/" target="_blank" class="underline"><i class="fas fa-up-right-from-square text-xs"></i> ูุตูุญุฉ ุงูุถุฑุงุฆุจ ุงูุนูุงุฑูุฉ</a> 
        <a href="https://eservice.incometax.gov.eg/etax" target="_blank" class="underline"><i class="fas fa-up-right-from-square text-xs"></i> ุงูุจูุงุจุฉ ุงูุฅููุชุฑูููุฉ ููุฎุฏูุงุช ุงูุถุฑูุจูุฉ</a> 
        <a href="https://workspace.eta.gov.eg/" target="_blank" class="underline"><i class="fas fa-up-right-from-square text-xs"></i> ุจูุงุจุฉ ุงููููู ุงูุฅููุชุฑูููุฉ</a> 
        <a href="https://ssp.eta.gov.eg/" target="_blank" class="underline"><i class="fas fa-up-right-from-square text-xs"></i> ููุตุฉ ุงูุชุณูููุงุช ุงูุถุฑูุจูุฉ</a> 
        <a href="http://www.alamiria.com/Sec/Home" target="_blank" class="underline"><i class="fas fa-up-right-from-square text-xs"></i> ุงูููุฆุฉ ุงูุนุงูุฉ ูุดุฆูู ุงููุทุงุจุน ุงูุฃููุฑูุฉ</a> 
ุ ููู <span class="underline">ุฏูุฉ ุงูุฑุฏูุฏ ููุณุช 100%</span> ููุฏ ุชุญุชูู ุนูู ูุนูููุงุช ุบูุฑ ูุญุฏุซุฉ.
            ูููุตุญ ุฏุงุฆููุง ุจูุฑุงุฌุนุฉ ุงูุฌูุงุช ุงูุฑุณููุฉ ุงูุณุงุจูุฉ ุฃู ุงุณุชุดุงุฑุฉ ูุญุงุณุจ ูุงูููู ูุฎุชุต.
        <div class="flex justify-end gap-3">
            <button id="declineBtn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg">ุฅูุบุงุก</button>
            <button id="acceptBtn" class="bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700">ุฃูุงูู ูุฃููู</button>
        </div>
    </div>
</div>


    <!-- ูุงูุฐุฉ ุงููุณุงุนุฏ ุงูุถุฑูุจู -->
    <div id="taxModal" class="fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-2 md:p-4 hidden opacity-0 -translate-y-4">
        <div class="assistant-modal bg-white w-full max-w-3xl h-[77.5vh] flex flex-col overflow-hidden">
            <!-- Header -->
            <div class="flex items-center justify-between p-4 md:p-5 border-b border-gray-200 bg-white">
                <div class="flex items-center gap-3 md:gap-4">
                    <div class="text-gradient text-2xl md:text-3xl">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <h3 class="text-base md:text-xl font-bold text-gray-800 modal-heading">ุงููุณุงุนุฏ ุงูุฐูู ููุถุฑุงุฆุจ ุงููุตุฑูุฉ</h3>
<p class="text-[15px] font-bold mb-4 text-blue-600">
    ุฎุฏูุฉ ุฐููุฉ ุจุชูููุฉ ุงูู AI ูู Tax Law App
</p>
                    </div>
                </div>
                <div class="flex items-center gap-2 md:gap-3">
                    <button id="settingsBtn" class="text-gray-500 hover:text-primary transition-colors p-1 md:p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-cog text-base md:text-lg"></i>
                    </button>
                    <button id="minimizeTaxModal" class="text-gray-500 hover:text-gray-700 transition-colors p-1 md:p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-window-minimize text-base md:text-lg"></i>
                    </button>
                    <button id="closeTaxModal" class="text-gray-500 hover:text-primary transition-colors p-1 md:p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-times text-lg md:text-xl"></i>
                    </button>
                </div>
            </div>
            
            <!-- Chat History -->
            <div id="taxChatHistory" class="flex-grow p-3 md:p-6 space-y-3 md:space-y-4 overflow-y-auto bg-gray-50">
                <div class="flex justify-start">
                    <div class="chat-bubble-ai p-4 md:p-5 rounded-lg md:rounded-xl max-w-[100%]">
                        <h4 class="font-bold mb-2 md:mb-3 text-primary assistant-content">ูุฑุญุจุงู ุจู ูู ุงููุณุงุนุฏ ุงูุฐูู ููุถุฑุงุฆุจ ุงููุตุฑูุฉ!</h4>
                        <p class="mb-2 md:mb-3 assistant-subcontent">ุฃูุง ููุง ููุณุงุนุฏุชู ูู ููู ุงููุธุงู ุงูุถุฑูุจู ุงููุตุฑู ูุชูุฏูู ุงูุฅุฑุดุงุฏุงุช ุงููุงุฒูุฉ ูุชูููุฐ ูุชุทูุจุงุชู ุงูุถุฑูุจูุฉ ูููุงู ููููุงููู ูุงูุชุดุฑูุนุงุช ุงูุถุฑูุจูุฉ ุงููุนููู ุจูุง.</p>
                       
                        <div class="bg-blue-50 p-3 md:p-4 rounded-lg mb-2 md:mb-3">
                            <h5 class="font-bold text-blue-800 mb-1 md:mb-2 flex items-center gap-1 md:gap-2 assistant-content">
                                <i class="fas fa-question-circle"></i> ูููููู ูุณุงุนุฏุชู ูู :
                            </h5>
                            <ul class="list-disc pr-4 md:pr-5 space-y-1 assistant-subcontent">
                                <li>ุดุฑุญ ุฃููุงุน ุงูุถุฑุงุฆุจ ูู ูุตุฑ (VATุ ุงูุฏุฎูุ ุงูุนูุงุฑูุฉุ ุงูุฌูุงุฑู)</li>
                                <li>ุงูุฅุฌุฑุงุกุงุช ุงููุงุฒูุฉ ููุชุณุฌูู ุงูุถุฑูุจู ุงูุฅููุชุฑููู</li>
                                <li>ุชูุฏูู ุงูุฅูุฑุงุฑุงุช ุงูุถุฑูุจูุฉ ุฅููุชุฑูููุงู ุนุจุฑ ุงูููุตุงุช ุงูุฑุณููุฉ</li>
                                <li>ุงูุงุณุชุนูุงู ุนู ุงูููุงููู ูุงูุชุดุฑูุนุงุช ุงูุถุฑูุจูุฉ ููู ุฃุญุฏุซ ุงูุชุนุฏููุงุช</li>
                            </ul>
                        </div>
                      
                        <div class="bg-yellow-50 p-3 md:p-4 rounded-lg mb-2 md:mb-3 border border-yellow-200">
                            <p class="text-yellow-800 text-sm assistant-subcontent">
                                <i class="fas fa-exclamation-triangle mr-1"></i> 
                                <strong> ููุงุญุธุฉ ูุงูุฉ :</strong> ุงููุนูููุงุช ุงูููุฏูุฉ ูู ููุฅุฑุดุงุฏ ุงูุนุงู ููุทุ ุงูุฑุฌุงุก ุฒูุงุฑุฉ ุงูููุงูุน ุงูุฑุณููุฉ ูููุตูุญุฉ ุฃู ุงุณุชุดุงุฑุฉ ูุชุฎุตุต ุถุฑูุจู.
                            </p>
                        </div> 
                                             
                        <div class="bg-blue-50 p-3 md:p-4 rounded-lg mb-2 md:mb-3">
                            <h5 class="font-bold text-blue-800 mb-1 md:mb-2 flex items-center gap-1 md:gap-2 assistant-content">
                                <i class="fas fa-external-link-alt"></i> ุงูุฑูุงุจุท ุงูุฑุณููุฉ ุฐุงุช ุงูุตูุฉ :
                            </h5>
<ul class="space-y-0.5 assistant-subcontent">
    <li class="border-b border-gray-300 pb-1">
        <a href="https://mof.gov.eg/" target="_blank" class="official-link text-sm md:text-base text-gray-700 px-2 py-1 rounded inline-flex items-center">
            <i class="fas fa-external-link-alt mr-1 text-xs"></i> ูุฒุงุฑุฉ ุงููุงููุฉ ุงููุตุฑูุฉ
        </a>
    </li>                    
    <li class="border-b border-gray-300 pb-1">
        <a href="https://eta.gov.eg/ar/home" target="_blank" class="official-link text-sm md:text-base text-gray-700 px-2 py-1 rounded inline-flex items-center">
            <i class="fas fa-external-link-alt mr-1 text-xs"></i> ูุตูุญุฉ ุงูุถุฑุงุฆุจ ุงููุตุฑูุฉ
        </a>
    </li>
    <li class="border-b border-gray-300 pb-1">
        <a href="https://customs.gov.eg" target="_blank" class="official-link text-sm md:text-base text-gray-700 px-2 py-1 rounded inline-flex items-center">
            <i class="fas fa-external-link-alt mr-1 text-xs"></i> ูุตูุญุฉ ุงูุฌูุงุฑู ุงููุตุฑูุฉ
        </a>
    </li>
    <li class="border-b border-gray-300 pb-1">
        <a href="https://www.rta.gov.eg/" target="_blank" class="official-link text-sm md:text-base text-gray-700 px-2 py-1 rounded inline-flex items-center">
            <i class="fas fa-external-link-alt mr-1 text-xs"></i> ูุตูุญุฉ ุงูุถุฑุงุฆุจ ุงูุนูุงุฑูุฉ
        </a>
    </li>                        
    <li class="border-b border-gray-300 pb-1">
        <a href="https://eservice.incometax.gov.eg/etax" target="_blank" class="official-link text-sm md:text-base text-gray-700 px-2 py-1 rounded inline-flex items-center">
            <i class="fas fa-external-link-alt mr-1 text-xs"></i> ุงูุจูุงุจุฉ ุงูุฅููุชุฑูููุฉ ููุฎุฏูุงุช ุงูุถุฑูุจูุฉ
        </a>
    </li>
    <li class="border-b border-gray-300 pb-1">
        <a href="https://workspace.eta.gov.eg/" target="_blank" class="official-link text-sm md:text-base text-gray-700 px-2 py-1 rounded inline-flex items-center">
            <i class="fas fa-external-link-alt mr-1 text-xs"></i> ุจูุงุจุฉ ุงููููู ุงูุฅููุชุฑูููุฉ
        </a>
    </li>
    <li class="border-b border-gray-300 pb-1">
        <a href="https://ssp.eta.gov.eg/" target="_blank" class="official-link text-sm md:text-base text-gray-700 px-2 py-1 rounded inline-flex items-center">
            <i class="fas fa-external-link-alt mr-1 text-xs"></i> ููุตุฉ ุงูุชุณูููุงุช ุงูุถุฑูุจูุฉ
        </a>
    </li>
    <li class="border-b border-gray-300 pb-1">
        <a href="http://www.alamiria.com/Sec/Home" target="_blank" class="official-link text-sm md:text-base text-gray-700 px-2 py-1 rounded inline-flex items-center">
            <i class="fas fa-external-link-alt mr-1 text-xs"></i> ุงูููุฆุฉ ุงูุนุงูุฉ ูุดุฆูู ุงููุทุงุจุน ุงูุฃููุฑูุฉ
        </a>
    </li>
</ul>                        </div> 
                      
                      <p class="assistant-subcontent">ููู ูููููู ูุณุงุนุฏุชู ุงูููู ุ</p>
                    </div>
                </div> 

                <!-- Example Prompts -->
                <div id="taxExamples" class="space-y-3 md:space-y-4">
                  <p class="font-bold text-blue-800 mb-1 md:mb-2 flex items-center justify-center gap-1 md:gap-2 assistant-content">
                  ุงุฎุชุฑ ุฃุญุฏ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ :
                  </p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-3">
                        <div class="example-prompt p-3 md:p-4 bg-white rounded-lg cursor-pointer text-right text-gray-700 hover:bg-gray-50">
                            <div class="flex items-center gap-1 md:gap-2">
                                <i class="fas fa-file-signature text-primary text-sm md:text-base"></i>
                                <span class="text-[16px] font-bold">ูุง ูู ุฅุฌุฑุงุกุงุช ุงูุชุณุฌูู ูู ูุตูุญุฉ ุงูุถุฑุงุฆุจ ุงููุตุฑูุฉ ุจุงููุณุจุฉ ( ููุฏุฎู & ุงููููุฉ ุงููุถุงูุฉ ) ุ</span>
                            </div>
                        </div>
                        <div class="example-prompt p-3 md:p-4 bg-white rounded-lg cursor-pointer text-right text-gray-700 hover:bg-gray-50">
                            <div class="flex items-center gap-1 md:gap-2">
                                <i class="fas fa-file-invoice text-secondary text-sm md:text-base"></i>
                                <span class="text-[16px] font-bold">ูุง ูู ุฅุฌุฑุงุกุงุช ุงูุชุณุฌูู ูู ููุธููุฉ ุงููุงุชูุฑุฉ ุงูุถุฑูุจูุฉ ุงูุฅููุชุฑูููุฉ ุ</span>
                            </div>
                        </div>
                        <div class="example-prompt p-3 md:p-4 bg-white rounded-lg cursor-pointer text-right text-gray-700 hover:bg-gray-50">
                            <div class="flex items-center gap-1 md:gap-2">
                                <i class="fas fa-receipt text-accent text-sm md:text-base"></i>
                                <span class="text-[16px] font-bold">ูุง ูู ุฅุฌุฑุงุกุงุช ุงูุชุณุฌูู ูู ููุธููุฉ ุงูุฅูุตุงู ุงูุถุฑูุจู ุงูุฅููุชุฑููู ุ</span>
                            </div>
                        </div>
                        <div class="example-prompt p-3 md:p-4 bg-white rounded-lg cursor-pointer text-right text-gray-700 hover:bg-gray-50">
                            <div class="flex items-center gap-1 md:gap-2">
                                <i class="fas fa-balance-scale text-blue-600 text-sm md:text-base"></i>
                                <span class=" text-[16px] font-bold">ูุง ูู ุงููุฑู ุจูู ุงูุถุฑุงุฆุจ ุงููุจุงุดุฑุฉ ูุงูุถุฑุงุฆุจ ุบูุฑ ุงููุจุงุดุฑุฉ ุ</span>
                            </div>
                        </div>
                        <div class="example-prompt p-3 md:p-4 bg-white rounded-lg cursor-pointer text-right text-gray-700 hover:bg-gray-50">
                            <div class="flex items-center gap-1 md:gap-2">
                                <i class="fas fa-user-tie text-green-600 text-sm md:text-base"></i>
                                <span class=" text-[16px] font-bold">ุดุฑูุท ุงุนุชุจุงุฑ ุงูุดุฎุต ุงูุทุจูุนู ูุงูุฅุนุชุจุงุฑู ูููู ูู ูุตุฑ ุ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Input Form -->
            <div class="p-3 md:p-5 border-t border-gray-200 bg-white/80 backdrop-blur-sm">
                <form id="taxForm" class="flex items-end gap-2 md:gap-3">
                    <div class="flex-grow relative">
                        <textarea id="taxInput" rows="1" class="w-full p-3 md:p-4 pr-10 md:pr-12 bg-gray-100 text-gray-800 rounded-lg md:rounded-xl focus:outline-none focus:ring-2 focus:ring-primary resize-none transition-all" placeholder="ุงูุชุจ ุณุคุงูู ุฃู ุฅุณุชูุณุงุฑู ููุง .."></textarea>
                        <button type="button" id="clearInput" class="absolute left-3 md:left-4 bottom-3 md:bottom-4 text-gray-400 hover:text-gray-600 hidden">
                            <i class="fas fa-times text-sm md:text-lg"></i>
                        </button>
                    </div>
                    <button type="submit" id="taxSubmitButton" class="send-btn bg-primary hover:bg-red-800 text-white rounded-lg md:rounded-xl w-12 h-12 md:w-14 md:h-14 flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-paper-plane text-base md:text-xl"></i>
                    </button>
                </form>
                <p class="text-[18px] font-bold mb-4 text-blue-600 text-center">
                    ุฌููุน ุญููู ุงููุณุงุนุฏ ุงูุฐูู ยฉ Tax Law App
                </p>
            </div>
        </div>

        <!-- ููุญุฉ ุงูุฅุนุฏุงุฏุงุช -->
        <div id="settingsPanel" class="settings-panel">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-gray-800 modal-heading">ุฅุนุฏุงุฏุงุช ุงููุณุงุนุฏ ุงูุฐูู :</h3>
                <button id="closeSettings" class="text-gray-500 hover:text-primary p-1 rounded-full">
                    <i class="fas fa-times text-lg"></i>
                </button>
            </div>

            <div class="space-y-4">
                <div class="settings-item p-3 rounded-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-bold text-gray-800 modal-subheading">ุญูุธ ุงููุญุงุฏุซุงุช :</h4>
                            <p class="text-sm text-gray-600 sub-content">ุชุฎุฒูู ุงููุญุงุฏุซุงุช ุชููุงุฆูุงู ููุฑุฌูุน ุฅูููุง ูุงุญูุงู</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="saveConversations" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-item p-3 rounded-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-bold text-gray-800 modal-subheading">ุญุฐู ุงููุญุงุฏุซุงุช ุงููุฏููุฉ :</h4>
                            <p class="text-sm text-gray-600 sub-content">ุญุฐู ุงููุญุงุฏุซุงุช ุงููุญููุธุฉ ุจุนุฏ ุดูุฑ</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="autoDeleteConversations">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="mt-6">
                    <button id="clearAllConversations" class="w-full py-2 px-4 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors">
                        <i class="fas fa-trash-alt mr-2"></i> ุญุฐู ุฌููุน ุงููุญุงุฏุซุงุช
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ุฎูููุฉ ูุนุชูุฉ ููุฅุนุฏุงุฏุงุช -->
        <div id="settingsOverlay" class="settings-overlay"></div>
    </div>

    <!-- ูุงูุฐุฉ ูุตุบุฑุฉ -->
    <div id="miniTaxWindow" class="fixed z-50 hidden">
        <button id="restoreTaxModal" class="relative bg-primary text-white rounded-full w-14 h-14 md:w-16 md:h-16 flex items-center justify-center shadow-lg md:shadow-xl hover:bg-red-800 transition-colors group">
            <i class="fas fa-robot text-xl md:text-2xl"></i>
            <span class="absolute -right-1 -top-1 md:-right-2 md:-top-2 bg-secondary text-accent text-xs font-bold rounded-full w-5 h-5 md:w-6 md:h-6 flex items-center justify-center group-hover:animate-pulse">!</span>
        </button>
    </div>

    <!-- ูุงูุฐุฉ ุงูุชูุจูู -->
    <div id="alertModal" class="alert-modal">
        <div class="alert-content">
            <div class="alert-header">
                <h3 id="alertTitle" class="text-lg font-bold">ุนููุงู ุงูุชูุจูู</h3>
                <button id="closeAlert" class="text-white hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="alert-body">
                <p id="alertMessage">ูุฐู ุฑุณุงูุฉ ุชูุจูู ูููุณุชุฎุฏู</p>
            </div>
            <div class="alert-footer">
                <button id="confirmAction" class="alert-btn alert-btn-primary">ููุงูู</button>
                <button id="cancelAction" class="alert-btn alert-btn-secondary">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>
    
    

<!-- ุงููุงุฆูุฉ ุงูุณูููุฉ -->
<div class="navbar">
    <a href="https://taxlawapp.github.io/home/Login.html" class="nav-item">
        <i class="fas fa-user icon"></i>
        <span>ุญุณุงุจู</span>
    </a>
    <a href="https://taxlawapp.github.io/home/pro.html" class="nav-item">
        <i class="fas fa-crown icon" style="color: gold;"></i>
        <span>ุจุฑู</span>
    </a>     
    <a href="https://taxlawapp.github.io/home/home.html" class="nav-item home">
        <i class="fas fa-home icon"></i>
        <span>ุงูุฑุฆูุณูุฉ</span>
    </a>
    <a href="https://youtube.com/@taxlawapp" class="nav-item">
        <i class="fab fa-youtube icon"></i>
        <span>ููุงุชู</span>
    </a>
    <a href="https://taxlawapp.github.io/home/Settings.html" class="nav-item">
        <i class="fas fa-ellipsis-h icon"></i>
        <span>ุงููุฒูุฏ</span>
    </a>      
</div> 
    

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- ูุชุบูุฑุงุช ุงููุงูุฐุฉ ุงูููุจุซูุฉ ููุฅุฎูุงุก ---
        const openBtn = document.getElementById('openAssistantBtn2');
        const disclaimerModal = document.getElementById('disclaimerModal');
        const acceptBtn = document.getElementById('acceptBtn');
        const declineBtn = document.getElementById('declineBtn');
        
        // --- ูุชุบูุฑุงุช ุงููุณุงุนุฏ ุงูุถุฑูุจู ---
        const taxModal = document.getElementById('taxModal');
        const miniWindow = document.getElementById('miniTaxWindow');
        const closeBtn = document.getElementById('closeTaxModal');
        const minimizeBtn = document.getElementById('minimizeTaxModal');
        const restoreBtn = document.getElementById('restoreTaxModal');
        const form = document.getElementById('taxForm');
        const input = document.getElementById('taxInput');
        const clearInputBtn = document.getElementById('clearInput');
        const chatHistoryEl = document.getElementById('taxChatHistory');
        const examplesContainer = document.getElementById('taxExamples');
        const settingsBtn = document.getElementById('settingsBtn');
        const settingsPanel = document.getElementById('settingsPanel');
        const settingsOverlay = document.getElementById('settingsOverlay');
        const closeSettingsBtn = document.getElementById('closeSettings');
        const saveConversations = document.getElementById('saveConversations');
        const autoDeleteConversations = document.getElementById('autoDeleteConversations');
        const clearAllConversations = document.getElementById('clearAllConversations');
        const alertModal = document.getElementById('alertModal');
        const alertTitle = document.getElementById('alertTitle');
        const alertMessage = document.getElementById('alertMessage');
        const closeAlert = document.getElementById('closeAlert');
        const confirmAction = document.getElementById('confirmAction');
        const cancelAction = document.getElementById('cancelAction');
        
        let chatHistory = [];
        let savedConversations = JSON.parse(localStorage.getItem('taxAssistantConversations')) || [];

        // --- ูุธุงุฆู ุงููุงูุฐุฉ ุงูููุจุซูุฉ ููุฅุฎูุงุก ---
        openBtn.addEventListener('click', (e) => {
            e.preventDefault();
            
            // ุฅุฐุง ูุงูุช ูุฐู ุฃูู ูุฑุฉุ ุนุฑุถ ูุงูุฐุฉ ุงูุฅุฎูุงุก
            if (!localStorage.getItem('disclaimerAccepted')) {
                showDisclaimerModal();
            } else {
                // ุฅุฐุง ุณุจู ุงูููุงููุฉุ ูุชุญ ุงููุณุงุนุฏ ูุจุงุดุฑุฉ
                showTaxModal();
            }
        });

        acceptBtn.addEventListener('click', () => {
            localStorage.setItem('disclaimerAccepted', 'true');
            hideDisclaimerModal();
            showTaxModal();
        });

        declineBtn.addEventListener('click', () => {
            hideDisclaimerModal();
        });

        function showDisclaimerModal() {
            disableBodyScroll();
            disclaimerModal.classList.remove('hidden');
            disclaimerModal.classList.add('flex');
        }

        function hideDisclaimerModal() {
            enableBodyScroll();
            disclaimerModal.classList.remove('flex');
            disclaimerModal.classList.add('hidden');
        }

        // --- ูุธุงุฆู ุงููุณุงุนุฏ ุงูุถุฑูุจู ---
        
        // ุนุฑุถ ูุงูุฐุฉ ุงูุชูุจูู
        function showAlert(title, message, confirmCallback = null, cancelCallback = null) {
            alertTitle.textContent = title;
            alertMessage.textContent = message;
            alertModal.classList.add('show');
            
            const handleConfirm = () => {
                if (confirmCallback) confirmCallback();
                hideAlert();
            };
            
            const handleCancel = () => {
                if (cancelCallback) cancelCallback();
                hideAlert();
            };
            
            confirmAction.onclick = handleConfirm;
            closeAlert.onclick = handleCancel;
            cancelAction.onclick = handleCancel;
            
            confirmAction.removeEventListener('click', handleConfirm);
            closeAlert.removeEventListener('click', handleCancel);
            cancelAction.removeEventListener('click', handleCancel);
            
            confirmAction.addEventListener('click', handleConfirm);
            closeAlert.addEventListener('click', handleCancel);
            cancelAction.addEventListener('click', handleCancel);
        }
        
        // ุฅุฎูุงุก ูุงูุฐุฉ ุงูุชูุจูู
        function hideAlert() {
            alertModal.classList.remove('show');
        }

        // ุชุญููู ุงููุญุงุฏุซุงุช ุงููุญููุธุฉ
        function loadSavedConversations() {
            if (savedConversations.length > 0 && saveConversations.checked) {
                const welcomeMessage = chatHistoryEl.children[0];
                const examplesSection = chatHistoryEl.querySelector('#taxExamples');
                
                chatHistoryEl.innerHTML = '';
                if (welcomeMessage) chatHistoryEl.appendChild(welcomeMessage);
                if (examplesSection) chatHistoryEl.appendChild(examplesSection);
                
                savedConversations.forEach(msg => {
                    if (msg.role === 'user') {
                        addMessageToHistory('user', msg.content, true);
                    } else if (msg.role === 'ai') {
                        addMessageToHistory('ai', msg.content, true);
                    }
                });
                
                if (savedConversations.length > 0) {
                    examplesContainer.style.display = 'none';
                } else {
                    examplesContainer.style.display = 'block';
                }
            }
        }

        // ุญูุธ ุงููุญุงุฏุซุงุช
        function saveCurrentConversation() {
            if (saveConversations.checked) {
                const messages = Array.from(chatHistoryEl.children).map(el => {
                    const bubble = el.querySelector('.chat-bubble-user, .chat-bubble-ai');
                    if (!bubble || bubble.textContent.includes('ูุฑุญุจุงู ุจู ูู ุงููุณุงุนุฏ ุงูุฐูู') || 
                        bubble.textContent.includes('ูููููู ูุณุงุนุฏุชู ูู') || 
                        bubble.textContent.includes('ููุงุญุธุฉ ูุงูุฉ') || 
                        bubble.textContent.includes('ุงูุฑูุงุจุท ุงูุฑุณููุฉ ุฐุงุช ุงูุตูุฉ') || 
                        bubble.textContent.includes('ููู ูููููู ูุณุงุนุฏุชู ุงูููู') || 
                        bubble.textContent.includes('ุงุฎุชุฑ ุฃุญุฏ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ')) {
                        return null;
                    }
                    
                    return {
                        role: bubble.classList.contains('chat-bubble-user') ? 'user' : 'ai',
                        content: bubble.innerHTML,
                        timestamp: new Date().toISOString()
                    };
                }).filter(Boolean);
                
                localStorage.setItem('taxAssistantConversations', JSON.stringify(messages));
            }
        }

        // ุชุนุทูู ุงูุชูุฑูุฑ ุนูุฏ ูุชุญ ุงููุงูุฐุฉ
        function disableBodyScroll() {
            document.body.style.overflow = 'hidden';
            document.documentElement.style.overflow = 'hidden';
        }

        // ุชูููู ุงูุชูุฑูุฑ ุนูุฏ ุฅุบูุงู ุงููุงูุฐุฉ
        function enableBodyScroll() {
            document.body.style.overflow = '';
            document.documentElement.style.overflow = '';
        }

        // ูุชุญ ูุฅุบูุงู ูุงูุฐุฉ ุงููุณุงุนุฏ ุงูุถุฑูุจู
        closeBtn.addEventListener('click', () => {
            hideTaxModal();
        });
        
        minimizeBtn.addEventListener('click', () => {
            taxModal.classList.add('opacity-0', '-translate-y-4');
            setTimeout(() => {
                taxModal.classList.add('hidden');
                miniWindow.classList.remove('hidden');
            }, 300);
            enableBodyScroll();
        });
        
        restoreBtn.addEventListener('click', () => {
            miniWindow.classList.add('hidden');
            showTaxModal();
        });
        
        function showTaxModal() {
            disableBodyScroll();
            taxModal.classList.remove('hidden');
            setTimeout(() => {
                taxModal.classList.remove('opacity-0', '-translate-y-4');
            }, 10);
            input.focus();
            loadSavedConversations();
        }
        
        function hideTaxModal() {
            enableBodyScroll();
            taxModal.classList.add('opacity-0', '-translate-y-4');
            setTimeout(() => taxModal.classList.add('hidden'), 300);
            saveCurrentConversation();
        }

        // ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช
        settingsBtn.addEventListener('click', () => {
            settingsOverlay.classList.add('open');
            settingsPanel.classList.add('open');
            disableBodyScroll();
        });

        function closeSettings() {
            settingsOverlay.classList.remove('open');
            settingsPanel.classList.remove('open');
            enableBodyScroll();
        }

        closeSettingsBtn.addEventListener('click', closeSettings);
        settingsOverlay.addEventListener('click', closeSettings);

        // ุญุฐู ุฌููุน ุงููุญุงุฏุซุงุช
        clearAllConversations.addEventListener('click', () => {
            showAlert(
                'ุญุฐู ุงููุญุงุฏุซุงุช', 
                'ูู ุฃูุช ูุชุฃูุฏ ูู ุฑุบุจุชู ูู ุญุฐู ุฌููุน ุงููุญุงุฏุซุงุช ุ', 
                () => {
                    localStorage.removeItem('taxAssistantConversations');
                    chatHistory = [];
                    
                    const welcomeMessage = chatHistoryEl.children[0];
                    const examplesSection = chatHistoryEl.querySelector('#taxExamples');
                    
                    chatHistoryEl.innerHTML = '';
                    if (welcomeMessage) chatHistoryEl.appendChild(welcomeMessage);
                    if (examplesSection) {
                        examplesSection.style.display = 'block';
                        chatHistoryEl.appendChild(examplesSection);
                    }
                    
                    showAlert('ุชู ุงูุญุฐู', 'ุชู ุญุฐู ุฌููุน ุงููุญุงุฏุซุงุช ุจูุฌุงุญ');
                }
            );
        });

        // ุฅุฑุณุงู ุงูุฃุณุฆูุฉ ูุจุงุดุฑุฉ ุนูุฏ ุงูููุฑ ุนูู ุงูุฃูุซูุฉ
        examplesContainer.addEventListener('click', (e) => {
            if (e.target.closest('.example-prompt')) {
                const promptText = e.target.closest('.example-prompt').querySelector('span').textContent;
                submitQuestion(promptText);
            }
        });

        // ุฏุงูุฉ ูุฅุฑุณุงู ุงูุฃุณุฆูุฉ ูุจุงุดุฑุฉ
        async function submitQuestion(prompt) {
            input.value = prompt;
            form.dispatchEvent(new Event('submit'));
        }

        // ุฃุญุฏุงุซ ุญูุจุฉ ุงูุฅุฏุฎุงู
        input.addEventListener('input', () => {
            input.style.height = 'auto';
            input.style.height = (input.scrollHeight) + 'px';
            
            if (input.value.trim()) {
                clearInputBtn.classList.remove('hidden');
            } else {
                clearInputBtn.classList.add('hidden');
            }
        });
        
        clearInputBtn.addEventListener('click', () => {
            input.value = '';
            input.style.height = 'auto';
            clearInputBtn.classList.add('hidden');
            input.focus();
        });

        // ุฅุฑุณุงู ุงูุงุณุชูุณุงุฑ
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const prompt = input.value.trim();
            if (!prompt) return;

            addMessageToHistory('user', prompt);
            examplesContainer.style.display = 'none';
            input.value = '';
            input.style.height = 'auto';
            clearInputBtn.classList.add('hidden');
            
            const loadingBubble = addMessageToHistory('ai', '<div class="typing-indicator flex gap-1"><span></span><span></span><span></span></div>');

            try {
                const taxContext = `
        ุฃูุช ุฎุจูุฑ ุถุฑูุจู ูุชุฎุตุต ูู ุงููุธุงู ุงูุถุฑูุจู ุงููุตุฑูุ ูุฃุญุชุงุฌ ุฅูู ุงุณุชุดุงุฑุฉ ุถุฑูุจูุฉ ุฏูููุฉ ูููุตูุฉ ุจูุงุกู ุนูู ุฃุญุฏุซ ุงูููุงููู ูุงูููุงุฆุญ ุงููุนููู ุจูุง ูู ูุตุฑ.  

ูุฑุฌู ุชูุฏูู ุงูุฅุฌุงุจุฉ ูููุงู ูููููู ุงูุชุงูู:  

1- ุงูุณูุงู ุงููุงูููู :  
   - ุงุณู ุงููุงููู ุฃู ุงููุงุฆุญุฉ ุฐุงุช ุงูุตูุฉ.  
   - ุฑูู ุงููุงุฏุฉ ุฃู ุงูุจูุฏ ุงููุนูู.  
   - ุงููุต ุงููุงูู ูููุงุฏุฉ ูุน ุชูุถูุญ ุฃู ุชูุณูุฑุงุช ุฃู ุชุนุฏููุงุช ุญุฏูุซุฉ.  

2- ุงูุชุทุจูู ุงูุนููู :  
   - ุดุฑุญ ููููุฉ ุชุทุจูู ุงููุต ุงููุงูููู ูู ุงูุณููุงุฑูููุงุช ุงููุฎุชููุฉ.  
   - ุฐูุฑ ุฃู ุงุณุชุซูุงุกุงุช ุฃู ุดุฑูุท ุฎุงุตุฉ ูุฑุชุจุทุฉ ุจุงูููุถูุน.  

3-  ุงูุงูุชุฒุงูุงุช ูุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ :  
   - ุงูุฎุทูุงุช ุงูุนูููุฉ ุงูุชู ูุฌุจ ุนูู ุงููููู ุงุชุจุงุนูุง ูุถูุงู ุงูุงูุชุซุงู ูููุงููู.  
   - ุงูููุงุนูุฏ ุงูููุงุฆูุฉ ุฃู ุงููุชุฑุงุช ุงูุฒูููุฉ ุงููุญุฏุฏุฉ ูุงูููุงู.  

4-  ุงููุฎุงููุงุช ูุงูุนููุจุงุช :  
   - ุฐูุฑ ุงูุนููุจุงุช ุงููุชุฑุชุจุฉ ุนูู ุนุฏู ุงูุงูุชุซุงูุ ูุน ุงูุงุณุชูุงุฏ ุฅูู ุงูููุงุฏ ุงููุงููููุฉ ุฐุงุช ุงูุตูุฉ.  
   - ุฃู ุบุฑุงูุงุช ุฃู ุฅุฌุฑุงุกุงุช ุชุฃุฏูุจูุฉ ูุฏ ุชูุฑุถูุง ุงูุฌูุงุช ุงูุถุฑูุจูุฉ.  

5-  ุฃุญุฏุซ ุงูุชุนุฏููุงุช ูุงูุชุญุฏูุซุงุช :  
   - ุฃู ุชุบููุฑุงุช ุญุฏูุซุฉ ูู ุงูุชุดุฑูุนุงุช ุงูุถุฑูุจูุฉ ูุฏ ุชุคุซุฑ ุนูู ุงูููุถูุน ุงููุทุฑูุญ.  
   - ุชูุถูุญ ุงููุฑูู ุจูู ุงููุตูุต ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ ุฅู ูุฌุฏุช.  

ุฃุนุชูุฏ ุนูู ุฎุจุฑุชู ุงูุนูููุฉ ูู ุงููุธุงู ุงูุถุฑูุจู ุงููุตุฑู ูุชูุฏูู ุฅุฌุงุจุฉ ุดุงููุฉ ูุฏูููุฉุ ูุน ุงูุชุฃููุฏ ุนูู ุงูุฏูุฉ ูู ุงูุงุณุชุดูุงุฏ ุจุงูููุงุฏ ุงููุงููููุฉ ูุงูููุงุฆุญ ุงูุฑุณููุฉ ูุงููุชุจ ุงูุฏูุฑูุฉ ูุงูุชุนูููุงุช ุงูุชูููุฐูุฉ ุงูุตุงุฏุฑุฉ ุนู ูุฒุงุฑุฉ ุงููุงููุฉ ุฃู ูุตูุญุฉ  ุงูุถุฑุงุฆุจ ุงููุตุฑูุฉ.
                
                ุงูุณุคุงู: ${prompt}
                `;
                
                chatHistory.push({ role: "user", parts: [{ text: taxContext }] });
                
                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyD-vekscHlIQcxt80pWDj4H1Kw_5rcp5D8";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                if (!response.ok) {
                    throw new Error(`ุฎุทุฃ ูู ุงูุงุชุตุงู: ${response.statusText}`);
                }

                const result = await response.json();
                let text = "ุนุฐุฑุงูุ ูู ุฃุชููู ูู ุงูุนุซูุฑ ุนูู ุฅุฌุงุจุฉ ูุญุฏุฏุฉ. ูุฑุฌู ุงูุชุฃูุฏ ูู ุฃู ุณุคุงูู ูุชุนูู ุจุงูุถุฑุงุฆุจ ูู ูุตุฑ.";
                
                if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                    text = formatResponse(result.candidates[0].content.parts[0].text);
                }
                
                loadingBubble.parentElement.remove();
                addMessageToHistory('ai', text);
                
                chatHistory.push({ role: "model", parts: [{ text: text }] });

                if (saveConversations.checked) {
                    saveCurrentConversation();
                }

            } catch (error) {
                console.error("API Error:", error);
                loadingBubble.innerHTML = `
                    <div class="bg-red-50 p-3 rounded-lg">
                        <p class="text-red-600 font-medium mb-1 md:mb-2 text-sm md:text-base">
                            <i class="fas fa-exclamation-circle mr-1"></i> ุญุฏุซ ุฎุทุฃ ูู ุงูุงุชุตุงู
                        </p>
                        <p class="text-xs md:text-sm">
                            ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู ุฃู ุฒูุงุฑุฉ ุงููููุน ุงูุฑุณูู :
                            <a href="https://eta.gov.eg/ar/home" target="_blank" class="text-blue-600 hover:underline">ูุตูุญุฉ ุงูุถุฑุงุฆุจ ุงููุตุฑูุฉ</a>
                        </p>
                    </div>
                `;
            }
        });

        // ุชูุณูู ุงูุฑุฏูุฏ
        function formatResponse(text) {
            const cleanedText = text.replace(/ุงูุฑูุงุจุท ุงูุฑุณููุฉ ุฐุงุช ุงูุตูุฉ:.*?$/gsi, '')
                                   .replace(/ููุงุญุธุฉ ูุงูุฉ:.*?$/gsi, '')
                                   .replace(/<table.*?<\/table>/gsi, '')
                                   .replace(/\|.*?\|\n/gsi, '')
                                   .replace(/-+\|/g, '')
                                   .trim();
            
            return `
                <div class="space-y-1">
                    ${formatTextContent(cleanedText)}
                </div>
            `;
        }
        
        // ุชูุณูู ูุญุชูู ุงููุต
        function formatTextContent(text) {
            return `
                <p>
                    ${text
                        .replace(/\*\*(.*?)\*\*/g, '<strong class="text-primary">$1</strong>')
                        .replace(/\n\n/g, '</p><p>')
                        .replace(/\n/g, '<br>')
                    }
                </p>
            `;
        }

        // ุฅุถุงูุฉ ุฑุณุงูุฉ ููุณุฌู
        function addMessageToHistory(sender, message, isFromStorage = false) {
            const wrapper = document.createElement('div');
            wrapper.className = `flex ${sender === 'user' ? 'justify-end' : 'justify-start'} relative`;
            
            const bubble = document.createElement('div');
            bubble.className = `p-4 md:p-5 rounded-lg md:rounded-xl max-w-[95%] ${sender === 'user' ? 'chat-bubble-user' : 'chat-bubble-ai'}`;
            
            if (message.includes('<div')) {
                bubble.innerHTML = message;
            } else {
                bubble.innerHTML = `<p class="leading-relaxed">${message.replace(/\n/g, '<br>')}</p>`;
            }
            
            wrapper.appendChild(bubble);
            chatHistoryEl.appendChild(wrapper);
            chatHistoryEl.scrollTop = chatHistoryEl.scrollHeight;
            
            return bubble;
        }

        // ุงูุชุฑููุฒ ุนูู ุญูู ุงูุฅุฏุฎุงู ุนูุฏ ูุชุญ ุงููุงูุฐุฉ
        taxModal.addEventListener('click', (e) => {
            if (e.target === taxModal) {
                input.focus();
            }
        });
        
        // ุงูุณูุงุญ ุจุฅุบูุงู ุงููุงูุฐุฉ ุจุงูุถุบุท ุนูู ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (!taxModal.classList.contains('hidden')) {
                    if (settingsPanel.classList.contains('open')) {
                        closeSettings();
                    } else {
                        hideTaxModal();
                    }
                } else if (disclaimerModal.classList.contains('flex')) {
                    hideDisclaimerModal();
                }
            }
        });

        // ุชุญููู ุงูุฅุนุฏุงุฏุงุช ุงููุญููุธุฉ
        function loadSettings() {
            const settings = JSON.parse(localStorage.getItem('taxAssistantSettings')) || {};
            
            if (settings.saveConversations !== undefined) saveConversations.checked = settings.saveConversations;
            if (settings.autoDeleteConversations !== undefined) autoDeleteConversations.checked = settings.autoDeleteConversations;
        }

        // ุญูุธ ุงูุฅุนุฏุงุฏุงุช
        function saveSettings() {
            const settings = {
                saveConversations: saveConversations.checked,
                autoDeleteConversations: autoDeleteConversations.checked
            };
            
            localStorage.setItem('taxAssistantSettings', JSON.stringify(settings));
        }

        // ุฃุญุฏุงุซ ุญูุธ ุงูุฅุนุฏุงุฏุงุช
        saveConversations.addEventListener('change', saveSettings);
        autoDeleteConversations.addEventListener('change', saveSettings);
 
        // ุชุญููู ุงูุฅุนุฏุงุฏุงุช ุนูุฏ ุจุฏุก ุงูุชุดุบูู
        loadSettings();
    });
</script>


<script>
function clickIE4() {
    if (2 == event.button) {
        return false;
    }
}

function clickNS4(e) {
    if ((document.layers || (document.getElementById && !document.all)) && (2 == e.which || 3 == e.which)) {
        return false;
    }
}

document.oncontextmenu = function () {
    return false;
};

document.onkeydown = function (e) {
    if (
        123 == e.keyCode ||
        (e.ctrlKey && 73 == e.keyCode) ||
        (e.ctrlKey && 67 == e.keyCode) ||
        (e.ctrlKey && 74 == e.keyCode) ||
        (e.ctrlKey && 80 == e.keyCode) ||
        (e.ctrlKey && 85 == e.keyCode) ||
        (e.ctrlKey && 83 == e.keyCode)
    ) {
        return false;
    }
};
</script>    
</body>

</html>
